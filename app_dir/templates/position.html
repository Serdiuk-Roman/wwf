{% from "_formhelpers.html" import render_field %}
{% from "_if_none_table.html" import render_if_none %}

{% block app_content %}

    <table class="table table-bordered table-striped text-center" id="same_table">
        {# <caption>Заказ № {{ order.id }}</caption> #}
        <thead>
            <tr>
                <th rowspan="2" class="text-center">№ п/п</th>
                <th rowspan="2" class="text-center">Пом.</th>
                <th rowspan="2" class="text-center">Модель</th>
                <th rowspan="2" class="text-center">Основа</th>
                <th rowspan="2" class="text-center">Декор</th>
                <th rowspan="2" class="text-center">Тип лутки</th>
                <th colspan="2" class="text-center">Полотно</th>
                <th rowspan="2" class="text-center">Нал., кол</th>
                <th rowspan="2" class="text-center">Добор, мм</th>
                <th colspan="3" class="text-center">Замок</th>
            </tr>
            <tr>
                <th class="text-center">Выс</th>
                <th class="text-center">Шир</th>

                <th class="text-center">Назнач.</th>
                <th class="text-center">Тип</th>
                <th class="text-center">Цвет</th>
            </tr>
        </thead>
        <tbody>
            {% for position in positions %}
            <tr>
                <td>
                    {{ loop.index }}
                </td>
                <td>
                    {{ position.room }}
                </td>
                <td>
                    {{ position.doormodel }}
                </td>
                <td>
                    {{ position.base_decor }}
                </td>
                <td>
                    {{ position.second_decor }}
                </td>
                <td>
                    {{ position.frame_type }}
                </td>
                <td>
                    {{ position.doors_height }}
                </td>
                <td>
                    {{ position.doors_width }}
                </td>
                <td>
                    {{ render_if_none(position.casings_count) }}
                </td>
                <td>
                    {{ render_if_none(position.expander) }}
                </td>
                <td>
                    {{ render_if_none(position.purpose) }}
                </td>
                <td>
                    {{ render_if_none(position.kind) }}
                </td>
                <td>
                    {{ render_if_none(position.color) }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

<div>
    <h3>Позиция</h3>
    <form action="" method="post">
        {{ forms.hidden_tag() }}
        <dl>
            {{ render_field(forms.room) }}
            {{ render_field(forms.doormodel_id) }}
            {{ render_field(forms.base_decor_id) }}
            {{ render_field(forms.second_decor_id) }}
            {{ render_field(forms.frame_id) }}
            {{ render_field(forms.doors_height) }}
            {{ render_field(forms.doors_width) }}
            {{ render_field(forms.casing_id) }}
            {{ render_field(forms.expander_id) }}
            {{ render_field(forms.lock_purpose_id) }}
            {{ render_field(forms.lock_type_id) }}
            {{ render_field(forms.lock_color_id) }}
            {{ forms.submit(class_="btn btn-default") }}
        </dl>
    </form>
</div>
{% endblock %}
